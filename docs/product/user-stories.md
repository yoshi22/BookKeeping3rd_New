# ユーザーストーリー & 受け入れ基準

## 1. 学習機能

### US-001: 問題解答
**As a** 簿記3級受験者  
**I want** 分野別に問題を解答し、即座に結果と解説を確認したい  
**So that** 効率的に学習を進められる

#### 受け入れ基準（AC）
- [ ] 仕訳・帳簿・試算表の分野選択ができる
- [ ] 問題文と選択肢が明確に表示される
- [ ] 解答ボタンをタップ後、1秒以内に正誤判定が表示される
- [ ] 解説が理解しやすい形式（図解含む）で表示される
- [ ] 解答履歴（正誤・時間・日時）が自動記録される

#### エラー処理
- [ ] ネットワーク未接続でも動作する
- [ ] アプリ再起動後も解答途中から継続できる

### US-002: 学習履歴確認
**As a** 学習者  
**I want** 自分がどの問題を正解/不正解したかを一覧で確認したい  
**So that** 学習の進捗状況を把握できる

#### 受け入れ基準（AC）
- [ ] 全302問（仕訳250問・帳簿40問・試算表12問）の一覧が表示される
- [ ] 各問題の状態（未学習・正解・誤答・要復習）が色分けされる
- [ ] 問題番号・分野・最終解答日・解答回数が表示される
- [ ] フィルタ機能（分野別・状態別）が利用できる
- [ ] タップで詳細履歴（解答日時・所要時間）が確認できる

## 2. 復習機能

### US-003: 誤答問題抽出
**As a** 学習者  
**I want** 間違えた問題だけを自動で抽出してもらいたい  
**So that** 苦手分野に集中して学習できる

#### 受け入れ基準（AC）
- [ ] 誤答した問題のみが抽出される
- [ ] 優先度順（誤答回数×経過日数の逆数）でソートされる
- [ ] 復習対象問題数が表示される
- [ ] ワンタップで復習モードに移行できる

### US-004: 復習モード学習
**As a** 学習者  
**I want** 間違えた問題を優先度順に復習したい  
**So that** 確実に弱点を克服できる

#### 受け入れ基準（AC）
- [ ] 優先度の高い問題から順番に出題される
- [ ] 通常学習と同様の解答・解説機能が利用できる
- [ ] 正解した問題は復習リストから自動的に除外される
- [ ] 連続2回正解で「克服済み」に状態変更される
- [ ] 復習進捗（残り問題数・改善率）が表示される

### US-005: 弱点分野学習
**As a** 学習者  
**I want** 特定の分野（仕訳など）で間違えた問題だけを練習したい  
**So that** 分野別に弱点を潰し込める

#### 受け入れ基準（AC）
- [ ] 分野選択（仕訳・帳簿・試算表）ができる
- [ ] 選択分野の誤答問題のみが出題される
- [ ] 分野別の改善状況が可視化される

## 3. 模試機能

### US-006: 模試受験
**As a** 受験者  
**I want** 本試験同様の60分制限で模試を受けたい  
**So that** 本番の時間配分を練習できる

#### 受け入れ基準（AC）
- [ ] 60分のカウントダウンタイマーが表示される
- [ ] 第1問（15問）・第2問（2問）・第3問（1問）の構成で出題される
- [ ] 5セットの異なる模試から選択できる
- [ ] 見直し機能（問題一覧・未回答マーク）が利用できる
- [ ] 時間終了で自動採点される
- [ ] 途中離脱時の警告表示がある

### US-007: 模試結果分析
**As a** 受験者  
**I want** 模試の結果を詳細に分析してもらいたい  
**So that** 本試験に向けた対策を立てられる

#### 受け入れ基準（AC）
- [ ] 合格判定（70点以上/未満）が明確に表示される
- [ ] 分野別得点・正答率が表示される
- [ ] 時間配分の分析（各問題の所要時間）が確認できる
- [ ] 間違えた問題が自動的に復習リストに追加される
- [ ] 過去の模試結果との比較ができる

## 4. 進捗管理機能

### US-008: 学習ダッシュボード
**As a** 学習者  
**I want** 学習の全体状況を一目で把握したい  
**So that** 効率的に学習計画を立てられる

#### 受け入れ基準（AC）
- [ ] 全体進捗（302問中の学習済み数）が表示される
- [ ] 分野別進捗（仕訳・帳簿・試算表）が表示される
- [ ] 復習待ち問題数が表示される
- [ ] 最近の学習状況（日別学習問題数）が確認できる
- [ ] 正答率の推移グラフが表示される

### US-009: 弱点問題管理
**As a** 学習者  
**I want** 現在の弱点問題を優先度付きで確認したい  
**So that** 効率的に復習計画を立てられる

#### 受け入れ基準（AC）
- [ ] 弱点問題が優先度順にリスト表示される
- [ ] 各問題の誤答回数・最終誤答日が表示される
- [ ] 推奨学習順序が明示される
- [ ] ワンタップで該当問題の復習が開始できる

## 5. システム機能

### US-010: データ管理
**As a** ユーザー  
**I want** 学習データが確実に保存・復元されることを確認したい  
**So that** 安心して長期間学習を継続できる

#### 受け入れ基準（AC）
- [ ] 学習履歴がローカルに自動保存される
- [ ] アプリ再起動後もデータが保持される
- [ ] 端末変更時のデータ移行機能が利用できる
- [ ] データ破損時の復旧機能がある

#### セキュリティ要件
- [ ] 学習データが暗号化保存される
- [ ] 個人を特定できる情報は保存されない

### US-011: オフライン利用
**As a** 学習者  
**I want** インターネット接続なしでも全機能を利用したい  
**So that** 場所を選ばずに学習できる

#### 受け入れ基準（AC）
- [ ] 全問題・解説がローカルに保存される
- [ ] オフライン状態でも学習・復習・模試が利用できる
- [ ] 学習履歴がローカルに記録される
- [ ] ネットワーク復帰時の自動同期は不要（ローカル完結）

## 6. ユーザビリティ

### US-012: アクセシビリティ対応
**As a** 視覚に配慮が必要なユーザー  
**I want** 文字サイズや色の調整ができるアプリを使いたい  
**So that** 快適に学習を継続できる

#### 受け入れ基準（AC）
- [ ] フォントサイズが調整できる（最大200%）
- [ ] 高コントラスト表示に切り替えられる
- [ ] 色覚異常に配慮した色使い（色のみに依存しない）
- [ ] 音声読み上げ機能に対応している
- [ ] タッチターゲットが44px以上確保されている

### US-013: エラー処理・回復
**As a** ユーザー  
**I want** エラーが発生した時に適切な案内と回復手段を提供してもらいたい  
**So that** 学習を中断せずに継続できる

#### 受け入れ基準（AC）
- [ ] エラー発生時に分かりやすいメッセージが表示される
- [ ] 回復手段（再試行・リセット等）が提示される
- [ ] データ損失なしで復旧できる
- [ ] 緊急時のサポート連絡手段が明示される

### US-015: アプリ設定管理
**As a** 学習者  
**I want** 学習環境を自分の好みにカスタマイズしたい  
**So that** 快適に学習を継続できる

#### 受け入れ基準（AC）
- [ ] フォントサイズ調整（小・中・大・特大）ができる
- [ ] 高コントラストモードのオン・オフができる
- [ ] 効果音のオン・オフができる
- [ ] 日々の学習目標（問題数）が設定できる
- [ ] 学習リマインダー通知の設定ができる
- [ ] 設定変更が即座に反映される

### US-016: オンボーディングガイド
**As a** 新規ユーザー  
**I want** アプリの使い方を分かりやすく学びたい  
**So that** 迷わずに学習を開始できる

#### 受け入れ基準（AC）
- [ ] 初回起動時にウェルカム画面が表示される
- [ ] 主要機能（学習・復習・模試・統計）の簡潔な説明がある
- [ ] サンプル問題で解答方法を体験できる
- [ ] スキップ機能でガイドを飛ばせる
- [ ] ガイド完了後にメイン画面に移動できる
- [ ] 設定からガイドを再表示できる

## 7. 運用・メンテナンス

### US-014: アップデート対応
**As a** ユーザー  
**I want** 問題の修正や制度変更に対応したアップデートを受け取りたい  
**So that** 常に最新の情報で学習できる

#### 受け入れ基準（AC）
- [ ] アップデート通知が適切に表示される
- [ ] 学習データを保持したままアップデートできる
- [ ] 重要な変更内容が明示される
- [ ] アップデート後の動作確認ができる

---

## トレーサビリティマトリクス

| ユーザーストーリー | PRD機能要件 | 優先度 |
|---|---|---|
| US-001, US-002 | 2.1.1 問題学習機能 | Must |
| US-003, US-004, US-005 | 2.1.2 復習管理機能 | Must |
| US-006, US-007 | 2.1.3 模試機能 | Must |
| US-008, US-009 | 2.1.4 進捗管理機能 | Must |
| US-010, US-011 | 非機能要件（可用性） | Must |
| US-012 | 2.2.2 アクセシビリティ機能 | Should |
| US-013, US-014 | 運用・保守要件 | Should |
| US-015 | アプリ設定機能 | Should |
| US-016 | オンボーディング機能 | Should |

---

**各ユーザーストーリーは、実装前にプロダクトオーナーの承認を得て、実装後に受け入れテストで検証を行います。**