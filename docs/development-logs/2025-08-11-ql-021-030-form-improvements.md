# Q_L_021-030問題の改善（2025-08-11）

## 修正内容

### 1. 勘定科目と摘要の選択肢化

**問題**: Q_L_021-030の伝票制問題で、勘定科目と摘要がテキスト自由入力になっていた
**修正**: `answer_template_json`を更新して選択肢形式に変更

#### Q_L_021-026（3伝票制）の修正

- **入金伝票**:
  - 勘定科目: 売上、売掛金、現金、当座預金、受取利息、受取手数料、その他
  - 摘要: 商品売上（現金）、売掛金回収、利息受取、手数料受取、その他

- **出金伝票**:
  - 勘定科目: 仕入、買掛金、給料、支払利息、支払手数料、租税公課、水道光熱費、その他
  - 摘要: 商品仕入（現金）、買掛金支払（小切手）、給料支払、利息支払、手数料支払、その他

- **振替伝票**:
  - 借方科目: 仕入、売掛金、備品、建物、土地、現金、当座預金、その他
  - 貸方科目: 売上、買掛金、未払金、資本金、借入金、その他
  - 摘要: 商品仕入（掛け）、商品売上（掛け）、備品購入（掛け）、その他

#### Q_L_027-030（5伝票制）の修正

- **入金伝票**:
  - 摘要: 商品売上（現金）、売掛金回収、その他

- **出金伝票**:
  - 勘定科目: 給料、支払利息、支払手数料、租税公課、水道光熱費、その他
  - 摘要: 給料支払、利息支払、手数料支払、その他

- **売上伝票**:
  - 得意先: A商店、B商店、C商店、その他
  - 取引区分: 掛け、現金

- **仕入伝票**:
  - 仕入先: X商店、Y商店、Z商店、その他
  - 取引区分: 掛け、現金

### 2. 問題文に無い仕入れ先・得意先の修正

**問題**: Q_L_027-030の正答で「仕入先A」「得意先A」など、問題文に記載のない固有名詞が使用されていた
**修正**: 選択肢で提供する「X商店」「A商店」などに統一

#### 修正した問題ID

- Q_L_027: 仕入先A→X商店、仕入先B→Y商店、得意先A→A商店、得意先B→B商店
- Q_L_028: 同上（日付は2月）
- Q_L_029: 同上（日付は3月）
- Q_L_030: 同上（日付は4月）

## 検証結果

- JSONの構文エラーなし ✓
- TypeScript型エラーなし（修正対象外の既存エラーのみ） ✓

## 影響範囲

- 対象問題: Q_L_021〜Q_L_030（10問）
- 変更ファイル: `src/data/master-questions.ts`
- UI影響: VoucherEntryForm コンポーネントで選択肢表示が改善される

## 期待される改善効果

1. **ユーザビリティ向上**: 勘定科目・摘要の選択が容易になる
2. **誤入力の削減**: テキスト自由入力による入力ミスが減る
3. **一貫性の向上**: 問題文と正答の整合性が取れる
4. **学習効果の向上**: 適切な勘定科目と摘要の組み合わせを学習できる

## 今後の改善提案

1. 他の伝票制問題でも同様の選択肢化を検討
2. 勘定科目マスタとの連携を強化
3. 摘要テンプレートの体系化
