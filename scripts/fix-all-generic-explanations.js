const fs = require("fs");
const path = require("path");

// ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹
const filePath = path.join(
  __dirname,
  "..",
  "src",
  "data",
  "master-questions.ts",
);

// ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
let content = fs.readFileSync(filePath, "utf8");

// æ±Žç”¨èª¬æ˜Žæ–‡ã®ãƒ‘ã‚¿ãƒ¼ãƒ³
const genericPattern =
  /åŸºæœ¬çš„ãªä»•è¨³å•é¡Œï¼ˆå•é¡Œ\d+ï¼‰ã€‚å–å¼•å†…å®¹ã‚’æ­£ç¢ºã«èª­ã¿å–ã‚Šé©åˆ‡ã«å‡¦ç†ã—ã¦ãã ã•ã„ã€‚/g;

// æ±Žç”¨èª¬æ˜Žæ–‡ã‚’æŒã¤å•é¡Œã‚’æ¤œå‡º
const matches = content.matchAll(
  /id: "(Q_J_\d+)"[\s\S]*?question_text:\s*"([^"]+)"[\s\S]*?explanation:\s*"([^"]+)"/g,
);

let fixCount = 0;
const fixedQuestions = [];

for (const match of matches) {
  const [fullMatch, id, questionText, explanation] = match;

  // æ±Žç”¨èª¬æ˜Žæ–‡ã®å ´åˆã®ã¿å‡¦ç†
  if (explanation.includes("åŸºæœ¬çš„ãªä»•è¨³å•é¡Œï¼ˆå•é¡Œ")) {
    // å•é¡Œæ–‡ã‹ã‚‰å–å¼•å†…å®¹ã‚’æŠ½å‡ºã—ã¦å…·ä½“çš„ãªèª¬æ˜Žã‚’ç”Ÿæˆ
    let newExplanation = "";

    // å•é¡Œæ–‡ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«åŸºã¥ã„ã¦èª¬æ˜Žã‚’ç”Ÿæˆ
    if (questionText.includes("çµ¦æ–™") || questionText.includes("çµ¦ä¸Ž")) {
      newExplanation =
        "çµ¦æ–™ã®æ”¯æ‰•å‡¦ç†ã€‚ç·é¡ã‹ã‚‰æºæ³‰æ‰€å¾—ç¨Žã‚„ç¤¾ä¼šä¿é™ºæ–™ç­‰ã‚’å·®ã—å¼•ã„ã¦æ‰‹å–é¡ã‚’æ”¯æ‰•ã„ã¾ã™ã€‚å€Ÿæ–¹ã«çµ¦æ–™ï¼ˆè²»ç”¨ï¼‰ã‚’ç·é¡ã§è¨ˆä¸Šã—ã€è²¸æ–¹ã«é ã‚Šé‡‘ï¼ˆè² å‚µï¼‰ã¨ç¾é‡‘ã¾ãŸã¯é é‡‘ã‚’è¨ˆä¸Šã€‚";
    } else if (questionText.includes("å®¶è³ƒ") && questionText.includes("æ”¯æ‰•")) {
      newExplanation =
        "å®¶è³ƒã®æ”¯æ‰•å‡¦ç†ã€‚è²»ç”¨ã®ç™ºç”Ÿã¨ã—ã¦å€Ÿæ–¹ã«æ”¯æ‰•å®¶è³ƒã‚’è¨ˆä¸Šã—ã€è²¸æ–¹ã«ç¾é‡‘ã¾ãŸã¯é é‡‘ã®æ¸›å°‘ã‚’è¨˜éŒ²ã€‚å‰æ‰•ã„ã®å ´åˆã¯å‰æ‰•å®¶è³ƒï¼ˆè³‡ç”£ï¼‰ã¨ã—ã¦å‡¦ç†ã€‚";
    } else if (questionText.includes("å®¶è³ƒ") && questionText.includes("å—å–")) {
      newExplanation =
        "å®¶è³ƒã®å—å–å‡¦ç†ã€‚åŽç›Šã®ç™ºç”Ÿã¨ã—ã¦è²¸æ–¹ã«å—å–å®¶è³ƒã‚’è¨ˆä¸Šã—ã€å€Ÿæ–¹ã«ç¾é‡‘ã¾ãŸã¯é é‡‘ã®å¢—åŠ ã‚’è¨˜éŒ²ã€‚å‰å—ã‘ã®å ´åˆã¯å‰å—å®¶è³ƒï¼ˆè² å‚µï¼‰ã¨ã—ã¦å‡¦ç†ã€‚";
    } else if (
      questionText.includes("å£²æŽ›é‡‘") &&
      questionText.includes("å›žåŽ")
    ) {
      newExplanation =
        "å£²æŽ›é‡‘ã®å›žåŽå‡¦ç†ã€‚å£²æŽ›é‡‘ï¼ˆè³‡ç”£ï¼‰ãŒæ¸›å°‘ã™ã‚‹ãŸã‚è²¸æ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã‚„é é‡‘ï¼ˆè³‡ç”£ï¼‰ã®å¢—åŠ ã‚’å€Ÿæ–¹ã«è¨ˆä¸Šã€‚æ‰‹å½¢ã§å›žåŽã—ãŸå ´åˆã¯å—å–æ‰‹å½¢ã‚’ä½¿ç”¨ã€‚";
    } else if (
      questionText.includes("è²·æŽ›é‡‘") &&
      questionText.includes("æ”¯æ‰•")
    ) {
      newExplanation =
        "è²·æŽ›é‡‘ã®æ”¯æ‰•å‡¦ç†ã€‚è²·æŽ›é‡‘ï¼ˆè² å‚µï¼‰ãŒæ¸›å°‘ã™ã‚‹ãŸã‚å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã‚„é é‡‘ï¼ˆè³‡ç”£ï¼‰ã®æ¸›å°‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚æ‰‹å½¢ã§æ”¯æ‰•ã£ãŸå ´åˆã¯æ”¯æ‰•æ‰‹å½¢ã‚’ä½¿ç”¨ã€‚";
    } else if (questionText.includes("è²¸ä»˜")) {
      newExplanation =
        "é‡‘éŠ­ã®è²¸ä»˜å‡¦ç†ã€‚è²¸ä»˜é‡‘ï¼ˆè³‡ç”£ï¼‰ãŒå¢—åŠ ã™ã‚‹ãŸã‚å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯é é‡‘ï¼ˆè³‡ç”£ï¼‰ã®æ¸›å°‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("å€Ÿå…¥")) {
      newExplanation =
        "é‡‘éŠ­ã®å€Ÿå…¥å‡¦ç†ã€‚å€Ÿå…¥é‡‘ï¼ˆè² å‚µï¼‰ãŒå¢—åŠ ã™ã‚‹ãŸã‚è²¸æ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯é é‡‘ï¼ˆè³‡ç”£ï¼‰ã®å¢—åŠ ã‚’å€Ÿæ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("è¿”æ¸ˆ") && questionText.includes("åˆ©æ¯")) {
      newExplanation =
        "å€Ÿå…¥é‡‘ã®è¿”æ¸ˆã¨åˆ©æ¯æ”¯æ‰•ã®å‡¦ç†ã€‚å€Ÿå…¥é‡‘ï¼ˆè² å‚µï¼‰ã®æ¸›å°‘ã‚’å€Ÿæ–¹ã«ã€æ”¯æ‰•åˆ©æ¯ï¼ˆè²»ç”¨ï¼‰ã‚’å€Ÿæ–¹ã«ã€ç¾é‡‘ã¾ãŸã¯é é‡‘ã®æ¸›å°‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("æ¸›ä¾¡å„Ÿå´")) {
      newExplanation =
        "æ¸›ä¾¡å„Ÿå´ã®è¨ˆä¸Šå‡¦ç†ã€‚é–“æŽ¥æ³•ã®å ´åˆã€å€Ÿæ–¹ã«æ¸›ä¾¡å„Ÿå´è²»ï¼ˆè²»ç”¨ï¼‰ã€è²¸æ–¹ã«æ¸›ä¾¡å„Ÿå´ç´¯è¨ˆé¡ï¼ˆè³‡ç”£ã®ãƒžã‚¤ãƒŠã‚¹å‹˜å®šï¼‰ã‚’è¨ˆä¸Šã€‚ç›´æŽ¥æ³•ã®å ´åˆã¯å›ºå®šè³‡ç”£ã‚’ç›´æŽ¥æ¸›é¡ã€‚";
    } else if (questionText.includes("è²¸å€’å¼•å½“é‡‘")) {
      newExplanation =
        "è²¸å€’å¼•å½“é‡‘ã®è¨­å®šå‡¦ç†ã€‚å‚µæ¨©ã®è²¸å€’ãƒªã‚¹ã‚¯ã«å‚™ãˆã¦ã€å€Ÿæ–¹ã«è²¸å€’å¼•å½“é‡‘ç¹°å…¥ï¼ˆè²»ç”¨ï¼‰ã€è²¸æ–¹ã«è²¸å€’å¼•å½“é‡‘ï¼ˆè³‡ç”£ã®ãƒžã‚¤ãƒŠã‚¹å‹˜å®šï¼‰ã‚’è¨ˆä¸Šã€‚";
    } else if (
      questionText.includes("è²¸å€’") &&
      !questionText.includes("å¼•å½“é‡‘")
    ) {
      newExplanation =
        "è²¸å€’ã®ç™ºç”Ÿå‡¦ç†ã€‚å›žåŽä¸èƒ½ã¨ãªã£ãŸå‚µæ¨©ã‚’ã€è²¸å€’å¼•å½“é‡‘ãŒã‚ã‚‹å ´åˆã¯ã¾ãšå¼•å½“é‡‘ã‚’ä½¿ç”¨ã—ã€ä¸è¶³åˆ†ã¯è²¸å€’æå¤±ã¨ã—ã¦å‡¦ç†ã€‚";
    } else if (
      questionText.includes("æ¶ˆè€—å“") &&
      questionText.includes("è³¼å…¥")
    ) {
      newExplanation =
        "æ¶ˆè€—å“ã®è³¼å…¥å‡¦ç†ã€‚è²»ç”¨æ³•ã§ã¯å€Ÿæ–¹ã«æ¶ˆè€—å“è²»ï¼ˆè²»ç”¨ï¼‰ã€è³‡ç”£æ³•ã§ã¯å€Ÿæ–¹ã«æ¶ˆè€—å“ï¼ˆè³‡ç”£ï¼‰ã‚’è¨ˆä¸Šã—ã€è²¸æ–¹ã«ç¾é‡‘ã¾ãŸã¯è²·æŽ›é‡‘ã‚’è¨ˆä¸Šã€‚";
    } else if (questionText.includes("æ‰‹å½¢") && questionText.includes("å—å–")) {
      newExplanation =
        "æ‰‹å½¢ã®å—å–å‡¦ç†ã€‚å—å–æ‰‹å½¢ï¼ˆè³‡ç”£ï¼‰ãŒå¢—åŠ ã™ã‚‹ãŸã‚å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€å£²æŽ›é‡‘ã®æ¸›å°‘ã¾ãŸã¯å£²ä¸Šã®ç™ºç”Ÿã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("æ‰‹å½¢") && questionText.includes("æ”¯æ‰•")) {
      newExplanation =
        "æ‰‹å½¢ã®æŒ¯å‡ºå‡¦ç†ã€‚æ”¯æ‰•æ‰‹å½¢ï¼ˆè² å‚µï¼‰ãŒå¢—åŠ ã™ã‚‹ãŸã‚è²¸æ–¹ã«è¨ˆä¸Šã—ã€è²·æŽ›é‡‘ã®æ¸›å°‘ã¾ãŸã¯ä»•å…¥ã®ç™ºç”Ÿã‚’å€Ÿæ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("æ‰‹å½¢") && questionText.includes("å‰²å¼•")) {
      newExplanation =
        "æ‰‹å½¢ã®å‰²å¼•å‡¦ç†ã€‚å—å–æ‰‹å½¢ã‚’éŠ€è¡Œã§å‰²å¼•ã„ã¦ç¾é‡‘åŒ–ã€‚å€Ÿæ–¹ã«ç¾é‡‘ã¨æ‰‹å½¢å£²å´æã€è²¸æ–¹ã«å—å–æ‰‹å½¢ã‚’è¨ˆä¸Šã€‚";
    } else if (questionText.includes("å½“åº§å€Ÿè¶Š")) {
      newExplanation =
        "å½“åº§å€Ÿè¶Šã®å‡¦ç†ã€‚å½“åº§é é‡‘æ®‹é«˜ã‚’è¶…ãˆã¦å¼•ãå‡ºã™å ´åˆã€ãƒžã‚¤ãƒŠã‚¹æ®‹é«˜ã‚’å½“åº§å€Ÿè¶Šï¼ˆè² å‚µï¼‰ã¨ã—ã¦å‡¦ç†ã€‚";
    } else if (questionText.includes("ä»®æ‰•é‡‘")) {
      newExplanation =
        "ä»®æ‰•é‡‘ã®å‡¦ç†ã€‚ç”¨é€”ãŒæœªç¢ºå®šã®æ”¯å‡ºã‚’ä¸€æ™‚çš„ã«ä»®æ‰•é‡‘ï¼ˆè³‡ç”£ï¼‰ã¨ã—ã¦å‡¦ç†ã—ã€å¾Œæ—¥ç²¾ç®—æ™‚ã«é©åˆ‡ãªå‹˜å®šç§‘ç›®ã«æŒ¯ã‚Šæ›¿ãˆã€‚";
    } else if (questionText.includes("ä»®å—é‡‘")) {
      newExplanation =
        "ä»®å—é‡‘ã®å‡¦ç†ã€‚å†…å®¹ãŒæœªç¢ºå®šã®å…¥é‡‘ã‚’ä¸€æ™‚çš„ã«ä»®å—é‡‘ï¼ˆè² å‚µï¼‰ã¨ã—ã¦å‡¦ç†ã—ã€å¾Œæ—¥å†…å®¹åˆ¤æ˜Žæ™‚ã«é©åˆ‡ãªå‹˜å®šç§‘ç›®ã«æŒ¯ã‚Šæ›¿ãˆã€‚";
    } else if (questionText.includes("å‰æ‰•") || questionText.includes("å‰æ¸¡")) {
      newExplanation =
        "å‰æ‰•é‡‘ã®å‡¦ç†ã€‚å•†å“ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã®å¯¾ä¾¡ã‚’å‰æ‰•ã„ã—ãŸå ´åˆã€å‰æ‰•é‡‘ï¼ˆè³‡ç”£ï¼‰ã¨ã—ã¦å‡¦ç†ã—ã€å•†å“å—å–æ™‚ã‚„å½¹å‹™æä¾›æ™‚ã«æŒ¯ã‚Šæ›¿ãˆã€‚";
    } else if (questionText.includes("å‰å—")) {
      newExplanation =
        "å‰å—é‡‘ã®å‡¦ç†ã€‚å•†å“ã‚„ã‚µãƒ¼ãƒ“ã‚¹ã®å¯¾ä¾¡ã‚’å‰å—ã‘ã—ãŸå ´åˆã€å‰å—é‡‘ï¼ˆè² å‚µï¼‰ã¨ã—ã¦å‡¦ç†ã—ã€å•†å“å¼•æ¸¡æ™‚ã‚„å½¹å‹™æä¾›æ™‚ã«å£²ä¸Šã«æŒ¯ã‚Šæ›¿ãˆã€‚";
    } else if (questionText.includes("æœªæ‰•") || questionText.includes("æœªåŽ")) {
      if (questionText.includes("æœªæ‰•")) {
        newExplanation =
          "æœªæ‰•é‡‘ãƒ»æœªæ‰•è²»ç”¨ã®å‡¦ç†ã€‚æ—¢ã«ç™ºç”Ÿã—ãŸè²»ç”¨ã‚„ä»£é‡‘ã®æœªæ‰•åˆ†ã‚’è² å‚µã¨ã—ã¦è¨ˆä¸Šã€‚";
      } else {
        newExplanation =
          "æœªåŽé‡‘ãƒ»æœªåŽåŽç›Šã®å‡¦ç†ã€‚æ—¢ã«ç™ºç”Ÿã—ãŸåŽç›Šã‚„ä»£é‡‘ã®æœªåŽåˆ†ã‚’è³‡ç”£ã¨ã—ã¦è¨ˆä¸Šã€‚";
      }
    } else if (questionText.includes("è³‡æœ¬é‡‘")) {
      newExplanation =
        "è³‡æœ¬é‡‘ã®å‡¦ç†ã€‚ä¼šç¤¾è¨­ç«‹æ™‚ã‚„å¢—è³‡æ™‚ã®å‡ºè³‡é‡‘ã‚’è³‡æœ¬é‡‘ï¼ˆç´”è³‡ç”£ï¼‰ã¨ã—ã¦è²¸æ–¹ã«è¨ˆä¸Šã—ã€å¯¾å¿œã™ã‚‹è³‡ç”£ã®å¢—åŠ ã‚’å€Ÿæ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("å¼•å‡ºé‡‘")) {
      newExplanation =
        "å¼•å‡ºé‡‘ã®å‡¦ç†ã€‚å€‹äººäº‹æ¥­ä¸»ãŒäº‹æ¥­ç”¨è³‡é‡‘ã‚’ç§ç”¨ã§å¼•ãå‡ºã—ãŸå ´åˆã€å¼•å‡ºé‡‘ï¼ˆè³‡æœ¬ã®ãƒžã‚¤ãƒŠã‚¹ï¼‰ã¨ã—ã¦å‡¦ç†ã€‚";
    } else if (
      questionText.includes("ç§Ÿç¨Žå…¬èª²") ||
      questionText.includes("ç¨Žé‡‘")
    ) {
      newExplanation =
        "ç§Ÿç¨Žå…¬èª²ã®å‡¦ç†ã€‚äº‹æ¥­ã«é–¢ã™ã‚‹ç¨Žé‡‘ã®æ”¯æ‰•ã„ã‚’è²»ç”¨ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯é é‡‘ã®æ¸›å°‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("ä¿é™ºæ–™")) {
      newExplanation =
        "ä¿é™ºæ–™ã®å‡¦ç†ã€‚æ”¯æ‰•ä¿é™ºæ–™ã‚’è²»ç”¨ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã€‚å‰æ‰•éƒ¨åˆ†ãŒã‚ã‚‹å ´åˆã¯å‰æ‰•ä¿é™ºæ–™ï¼ˆè³‡ç”£ï¼‰ã¨ã—ã¦å‡¦ç†ã€‚";
    } else if (questionText.includes("ä¿®ç¹•")) {
      newExplanation =
        "ä¿®ç¹•è²»ã®å‡¦ç†ã€‚å»ºç‰©ã‚„å‚™å“ç­‰ã®ä¿®ç†ä»£ã‚’ä¿®ç¹•è²»ï¼ˆè²»ç”¨ï¼‰ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯æœªæ‰•é‡‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("åºƒå‘Š")) {
      newExplanation =
        "åºƒå‘Šå®£ä¼è²»ã®å‡¦ç†ã€‚åºƒå‘Šã‚„å®£ä¼ã«é–¢ã™ã‚‹æ”¯å‡ºã‚’è²»ç”¨ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯æœªæ‰•é‡‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("é€šä¿¡è²»")) {
      newExplanation =
        "é€šä¿¡è²»ã®å‡¦ç†ã€‚é›»è©±ä»£ã‚„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ–™é‡‘ç­‰ã‚’è²»ç”¨ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯æœªæ‰•é‡‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("æ°´é“å…‰ç†±è²»")) {
      newExplanation =
        "æ°´é“å…‰ç†±è²»ã®å‡¦ç†ã€‚é›»æ°—ãƒ»ã‚¬ã‚¹ãƒ»æ°´é“ä»£ã‚’è²»ç”¨ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯æœªæ‰•é‡‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (
      questionText.includes("æ—…è²»äº¤é€šè²»") ||
      questionText.includes("äº¤é€šè²»")
    ) {
      newExplanation =
        "æ—…è²»äº¤é€šè²»ã®å‡¦ç†ã€‚å‡ºå¼µè²»ç”¨ã‚„äº¤é€šè²»ã‚’è²»ç”¨ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯æœªæ‰•é‡‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("ä¼šè­°è²»")) {
      newExplanation =
        "ä¼šè­°è²»ã®å‡¦ç†ã€‚ä¼šè­°ã«é–¢ã™ã‚‹æ”¯å‡ºã‚’è²»ç”¨ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯æœªæ‰•é‡‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (questionText.includes("ç¦åˆ©åŽšç”Ÿ")) {
      newExplanation =
        "ç¦åˆ©åŽšç”Ÿè²»ã®å‡¦ç†ã€‚å¾“æ¥­å“¡ã®ç¦åˆ©åŽšç”Ÿã«é–¢ã™ã‚‹æ”¯å‡ºã‚’è²»ç”¨ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã—ã€ç¾é‡‘ã¾ãŸã¯æœªæ‰•é‡‘ã‚’è²¸æ–¹ã«è¨ˆä¸Šã€‚";
    } else if (
      questionText.includes("é›‘è²»") ||
      questionText.includes("é›‘æ") ||
      questionText.includes("é›‘ç›Š")
    ) {
      if (questionText.includes("é›‘ç›Š")) {
        newExplanation =
          "é›‘ç›Šã®å‡¦ç†ã€‚å–¶æ¥­å¤–ã®å°‘é¡åŽç›Šã‚’é›‘ç›Šï¼ˆåŽç›Šï¼‰ã¨ã—ã¦è²¸æ–¹ã«è¨ˆä¸Šã€‚";
      } else if (questionText.includes("é›‘æ")) {
        newExplanation =
          "é›‘æã®å‡¦ç†ã€‚å–¶æ¥­å¤–ã®å°‘é¡æå¤±ã‚’é›‘æï¼ˆè²»ç”¨ï¼‰ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã€‚";
      } else {
        newExplanation =
          "é›‘è²»ã®å‡¦ç†ã€‚ä»–ã®å‹˜å®šç§‘ç›®ã«è©²å½“ã—ãªã„å°‘é¡ã®è²»ç”¨ã‚’é›‘è²»ã¨ã—ã¦å€Ÿæ–¹ã«è¨ˆä¸Šã€‚";
      }
    } else if (questionText.includes("è¿”å“") || questionText.includes("å€¤å¼•")) {
      if (questionText.includes("ä»•å…¥") || questionText.includes("è³¼å…¥")) {
        newExplanation =
          "ä»•å…¥è¿”å“ãƒ»å€¤å¼•ã®å‡¦ç†ã€‚ä»•å…¥ã‚ŒãŸå•†å“ã®è¿”å“ã‚„å€¤å¼•ãã«ã‚ˆã‚Šã€ä»•å…¥ï¼ˆè²»ç”¨ï¼‰ã‚’æ¸›å°‘ã•ã›ã‚‹é€†ä»•è¨³ã‚’è¡Œã†ã€‚";
      } else if (
        questionText.includes("å£²ä¸Š") ||
        questionText.includes("è²©å£²")
      ) {
        newExplanation =
          "å£²ä¸Šè¿”å“ãƒ»å€¤å¼•ã®å‡¦ç†ã€‚è²©å£²ã—ãŸå•†å“ã®è¿”å“ã‚„å€¤å¼•ãã«ã‚ˆã‚Šã€å£²ä¸Šï¼ˆåŽç›Šï¼‰ã‚’æ¸›å°‘ã•ã›ã‚‹é€†ä»•è¨³ã‚’è¡Œã†ã€‚";
      }
    } else {
      // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®èª¬æ˜Žï¼ˆå•é¡Œæ–‡ã®å†…å®¹ã‚’å«ã‚ã‚‹ï¼‰
      const shortQuestion = questionText
        .replace(/ã€ä»•è¨³å•é¡Œã€‘æ¬¡ã®å–å¼•ã«ã¤ã„ã¦ä»•è¨³ã—ãªã•ã„ã€‚\n\n/, "")
        .substring(0, 50);
      newExplanation = `ã“ã®å–å¼•ã®ä»•è¨³å‡¦ç†ã€‚${shortQuestion}...ã«å¯¾ã™ã‚‹é©åˆ‡ãªå‹˜å®šç§‘ç›®ã¨é‡‘é¡ã‚’è¨ˆä¸Šã€‚`;
    }

    // èª¬æ˜Žæ–‡ã‚’ç½®ãæ›ãˆ
    const escapedExplanation = explanation.replace(
      /[.*+?^${}()|[\]\\]/g,
      "\\$&",
    );
    const regex = new RegExp(
      `(id: "${id}"[\\s\\S]*?explanation:\\s*")${escapedExplanation}(")`,
    );

    if (regex.test(content)) {
      content = content.replace(
        regex,
        `$1${newExplanation}\\\\n\\\\nâš ï¸ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼šå‹˜å®šç§‘ç›®ã®æ­£ç¢ºãªé¸æŠžã€å€Ÿæ–¹ãƒ»è²¸æ–¹ã®åˆ¤å®šã€é‡‘é¡ã®è¨ˆç®—ã«æ³¨æ„ã€‚å•é¡Œæ–‡ã®ç´°éƒ¨ã¾ã§æ³¨æ„æ·±ãèª­ã¿å–ã‚‹ã“ã¨ã€‚$2`,
      );
      fixCount++;
      fixedQuestions.push(id);
    }
  }
}

// ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿
fs.writeFileSync(filePath, content, "utf8");

console.log(`\nâœ¨ åˆè¨ˆ ${fixCount} å€‹ã®æ±Žç”¨èª¬æ˜Žæ–‡ã‚’å…·ä½“çš„ãªå†…å®¹ã«ä¿®æ­£ã—ã¾ã—ãŸ`);
if (fixedQuestions.length > 0) {
  console.log("\nðŸ“ ä¿®æ­£ã—ãŸå•é¡ŒID:");
  fixedQuestions.forEach((id, index) => {
    if (index % 10 === 0) console.log("");
    process.stdout.write(`${id} `);
  });
  console.log("");
}
