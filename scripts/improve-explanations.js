#!/usr/bin/env node

/**
 * å…¨å•é¡Œã®è§£èª¬ã‚’å­¦ç¿’ã«å½¹ç«‹ã¤å†…å®¹ã«æ”¹å–„ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
 * - é–“é•ãˆã‚„ã™ã„å‹˜å®šç§‘ç›®
 * - ç†è§£ã®ãƒã‚¤ãƒ³ãƒˆ
 * - ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã•ã‚ŒãŸå­¦ç¿’ã‚¢ãƒ‰ãƒã‚¤ã‚¹
 */

const fs = require("fs");
const path = require("path");

// TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€
const tsFilePath = path.join(
  __dirname,
  "..",
  "src",
  "data",
  "master-questions.ts",
);
const content = fs.readFileSync(tsFilePath, "utf8");

console.log("ğŸ“š å…¨å•é¡Œã®è§£èª¬ã‚’æ”¹å–„ä¸­...\n");

// ãƒ‡ãƒ¼ã‚¿ã‚’æŠ½å‡º
const startPattern = /export const masterQuestions[^=]*=\s*\[/;
const startMatch = content.match(startPattern);
const startIndex = startMatch.index + startMatch[0].length - 1;

let depth = 0;
let endIndex = -1;
let inString = false;
let escapeNext = false;

for (let i = startIndex; i < content.length; i++) {
  const char = content[i];

  if (escapeNext) {
    escapeNext = false;
    continue;
  }

  if (char === "\\") {
    escapeNext = true;
    continue;
  }

  if (char === '"' && !inString) {
    inString = true;
  } else if (char === '"' && inString) {
    inString = false;
  }

  if (!inString) {
    if (char === "[" || char === "{") {
      depth++;
    } else if (char === "]" || char === "}") {
      depth--;
      if (depth === 0 && char === "]") {
        endIndex = i + 1;
        break;
      }
    }
  }
}

const dataString = content.substring(startIndex, endIndex);
const questions = eval(dataString);

// æ”¹å–„ã•ã‚ŒãŸè§£èª¬ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°
function generateImprovedExplanation(question) {
  const id = question.id;
  const questionText = question.question_text;
  const template = JSON.parse(question.answer_template_json);
  const answer = JSON.parse(question.correct_answer_json);

  // ç¬¬ä¸€å•ï¼ˆä»•è¨³å•é¡Œï¼‰ã®è§£èª¬
  if (id.startsWith("Q_J_")) {
    // å•é¡Œæ–‡ã‹ã‚‰å–å¼•å†…å®¹ã‚’åˆ¤æ–­
    if (questionText.includes("ç¾é‡‘éä¸è¶³")) {
      return (
        "ç¾é‡‘éä¸è¶³ã®ä»•è¨³ã§ã¯ã€å®Ÿéš›æœ‰é«˜ã¨å¸³ç°¿æ®‹é«˜ã®å·®é¡ã‚’ã€Œç¾é‡‘éä¸è¶³ã€å‹˜å®šã§å‡¦ç†ã—ã¾ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ ç¾é‡‘ãŒä¸è¶³ã®å ´åˆï¼šå€Ÿæ–¹ã€Œç¾é‡‘éä¸è¶³ã€ï¼è²¸æ–¹ã€Œç¾é‡‘ã€\n" +
        "â€¢ ç¾é‡‘ãŒéå‰°ã®å ´åˆï¼šå€Ÿæ–¹ã€Œç¾é‡‘ã€ï¼è²¸æ–¹ã€Œç¾é‡‘éä¸è¶³ã€\n" +
        "â€¢ æ±ºç®—æ™‚ã«åŸå› ä¸æ˜ã®å ´åˆã¯ã€Œé›‘æã€ï¼ˆä¸è¶³ï¼‰ã¾ãŸã¯ã€Œé›‘ç›Šã€ï¼ˆéå‰°ï¼‰ã«æŒ¯ã‚Šæ›¿ãˆ\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "ç¾é‡‘éä¸è¶³ã¯ä¸€æ™‚çš„ãªå‹˜å®šç§‘ç›®ã€‚åŸå› ãŒåˆ¤æ˜ã—ãŸã‚‰è©²å½“ã™ã‚‹å‹˜å®šç§‘ç›®ã«æŒ¯ã‚Šæ›¿ãˆã€æ±ºç®—æ™‚ã¾ã§ä¸æ˜ãªã‚‰é›‘æãƒ»é›‘ç›Šã¨ã—ã¦å‡¦ç†ã—ã¾ã™ã€‚"
      );
    }

    if (questionText.includes("å°åˆ‡æ‰‹")) {
      const isSelfIssued =
        questionText.includes("è‡ªå·±æŒ¯å‡º") || questionText.includes("è‡ªç¤¾æŒ¯å‡º");
      return (
        `å°åˆ‡æ‰‹ã®å‡¦ç†ã§ã¯ã€æŒ¯å‡ºäººã«ã‚ˆã£ã¦å‹˜å®šç§‘ç›®ãŒç•°ãªã‚Šã¾ã™ã€‚\n\n` +
        `ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n` +
        `â€¢ ä»–åº—æŒ¯å‡ºå°åˆ‡æ‰‹ã‚’å—å– â†’ ã€Œç¾é‡‘ã€ã¨ã—ã¦å‡¦ç†\n` +
        `â€¢ è‡ªå·±æŒ¯å‡ºå°åˆ‡æ‰‹ã‚’å—å– â†’ ã€Œå½“åº§é é‡‘ã€ã¨ã—ã¦å‡¦ç†\n` +
        `â€¢ å°åˆ‡æ‰‹ã‚’æŒ¯ã‚Šå‡ºã™ â†’ è²¸æ–¹ã€Œå½“åº§é é‡‘ã€\n\n` +
        `ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n` +
        `${
          isSelfIssued
            ? "è‡ªå·±æŒ¯å‡ºå°åˆ‡æ‰‹ã¯ã€ã™ã§ã«è‡ªç¤¾ã®å½“åº§é é‡‘ã‹ã‚‰å¼•ãè½ã¨ã•ã‚Œã¦ã„ã‚‹ãŸã‚ã€å—ã‘å–ã£ã¦ã‚‚ç¾é‡‘ã§ã¯ãªãå½“åº§é é‡‘ã®æˆ»ã‚Šã¨ã—ã¦å‡¦ç†ã—ã¾ã™ã€‚"
            : "ä»–åº—æŒ¯å‡ºå°åˆ‡æ‰‹ã¯ã€ã™ãã«ç¾é‡‘åŒ–ã§ãã‚‹é€šè²¨ä»£ç”¨è¨¼åˆ¸ã®ãŸã‚ã€Œç¾é‡‘ã€å‹˜å®šã§å‡¦ç†ã—ã¾ã™ã€‚éŠ€è¡Œã§æ›é‡‘ã™ã‚‹æ‰‹é–“ã‚’çœç•¥ã—ãŸå‡¦ç†ã§ã™ã€‚"
        }`
      );
    }

    if (questionText.includes("ä»•å…¥") || questionText.includes("å£²ä¸Š")) {
      const isReturn =
        questionText.includes("è¿”å“") || questionText.includes("æˆ»ã‚Š");
      const isDiscount = questionText.includes("å€¤å¼•");

      return (
        `å•†å“å£²è²·ã®ä¸‰åˆ†æ³•ã«ã‚ˆã‚‹å‡¦ç†ã§ã™ã€‚\n\n` +
        `ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n` +
        `â€¢ ä»•å…¥æ™‚ï¼šå€Ÿæ–¹ã€Œä»•å…¥ã€ï¼è²¸æ–¹ã€Œè²·æ›é‡‘ã€ã¾ãŸã¯ã€Œç¾é‡‘ã€\n` +
        `â€¢ å£²ä¸Šæ™‚ï¼šå€Ÿæ–¹ã€Œå£²æ›é‡‘ã€ã¾ãŸã¯ã€Œç¾é‡‘ã€ï¼è²¸æ–¹ã€Œå£²ä¸Šã€\n` +
        `${isReturn ? "â€¢ è¿”å“ã¯é€†ä»•è¨³ã§å‡¦ç†ï¼ˆä»•å…¥è¿”å“ã¯è²¸æ–¹ã€Œä»•å…¥ã€ã€å£²ä¸Šè¿”å“ã¯å€Ÿæ–¹ã€Œå£²ä¸Šã€ï¼‰\n" : ""}` +
        `${isDiscount ? "â€¢ å€¤å¼•ã‚‚è¿”å“ã¨åŒæ§˜ã«é€†ä»•è¨³ã§å‡¦ç†\n" : ""}\n` +
        `ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n` +
        `ä¸‰åˆ†æ³•ã§ã¯ã€Œä»•å…¥ã€ã€Œå£²ä¸Šã€ã€Œç¹°è¶Šå•†å“ã€ã®3ã¤ã®å‹˜å®šç§‘ç›®ã‚’ä½¿ç”¨ã€‚` +
        `${
          isReturn
            ? "è¿”å“ãƒ»å€¤å¼•ã¯å…ƒã®å–å¼•ã¨é€†ã®ä»•è¨³ã‚’ã™ã‚‹ã“ã¨ã§å–ã‚Šæ¶ˆã—åŠ¹æœã‚’è¡¨ç¾ã—ã¾ã™ã€‚"
            : "æœŸä¸­ã¯å£²ä¸ŠåŸä¾¡ã‚’è¨ˆç®—ã›ãšã€æ±ºç®—æ™‚ã«ã€Œå£²ä¸ŠåŸä¾¡ï¼æœŸé¦–å•†å“ï¼‹ä»•å…¥ï¼æœŸæœ«å•†å“ã€ã§ç®—å‡ºã—ã¾ã™ã€‚"
        }`
      );
    }

    if (questionText.includes("æ‰‹å½¢")) {
      const isReceivable =
        questionText.includes("å—å–") || questionText.includes("å—ã‘å–");
      const isPayable =
        questionText.includes("æŒ¯å‡º") || questionText.includes("æŒ¯ã‚Šå‡º");

      return (
        `ç´„æŸæ‰‹å½¢ã®å‡¦ç†ã§ã™ã€‚\n\n` +
        `ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n` +
        `â€¢ æ‰‹å½¢ã‚’å—å– â†’ å€Ÿæ–¹ã€Œå—å–æ‰‹å½¢ã€ï¼ˆè³‡ç”£ã®å¢—åŠ ï¼‰\n` +
        `â€¢ æ‰‹å½¢ã‚’æŒ¯å‡º â†’ è²¸æ–¹ã€Œæ”¯æ‰•æ‰‹å½¢ã€ï¼ˆè² å‚µã®å¢—åŠ ï¼‰\n` +
        `â€¢ å°åˆ‡æ‰‹ã¨é•ã„ã€æº€æœŸæ—¥ã¾ã§ç¾é‡‘åŒ–ã§ããªã„\n\n` +
        `ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n` +
        `${
          isReceivable
            ? "å—å–æ‰‹å½¢ã¯å°†æ¥ãŠé‡‘ã‚’å—ã‘å–ã‚‹æ¨©åˆ©ï¼ˆè³‡ç”£ï¼‰ã€‚æº€æœŸæ—¥ã«ç¾é‡‘åŒ–ã•ã‚Œã‚‹ã¾ã§ã€Œå—å–æ‰‹å½¢ã€å‹˜å®šã§ç®¡ç†ã—ã¾ã™ã€‚"
            : "æ”¯æ‰•æ‰‹å½¢ã¯å°†æ¥ãŠé‡‘ã‚’æ”¯æ‰•ã†ç¾©å‹™ï¼ˆè² å‚µï¼‰ã€‚ç´„æŸæ‰‹å½¢ã¯ä¿¡ç”¨å–å¼•ã®ä¸€ç¨®ã§ã€å¾Œæ—¥æ”¯æ‰•ã„ã‚’ç´„æŸã™ã‚‹è¨¼åˆ¸ã§ã™ã€‚"
        }`
      );
    }

    if (questionText.includes("çµ¦æ–™") || questionText.includes("çµ¦ä¸")) {
      return (
        "çµ¦æ–™æ”¯æ‰•ã„ã®ä»•è¨³ã§ã¯ã€æºæ³‰å¾´åãªã©ã®å¤©å¼•ãå‡¦ç†ã«æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ ç·é¡ã‚’ã€Œçµ¦æ–™ã€ï¼ˆè²»ç”¨ï¼‰ã¨ã—ã¦è¨ˆä¸Š\n" +
        "â€¢ æºæ³‰æ‰€å¾—ç¨ã¯ã€Œé ã‚Šé‡‘ã€ï¼ˆè² å‚µï¼‰ã¨ã—ã¦å‡¦ç†\n" +
        "â€¢ ç¤¾ä¼šä¿é™ºæ–™ã‚‚ã€Œé ã‚Šé‡‘ã€ã¨ã—ã¦å‡¦ç†\n" +
        "â€¢ æ‰‹å–é¡ã®ã¿ã€Œç¾é‡‘ã€ã¾ãŸã¯ã€Œæ™®é€šé é‡‘ã€ã‹ã‚‰æ”¯å‡º\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "çµ¦æ–™ã®ç·é¡ã‚’è²»ç”¨è¨ˆä¸Šã—ã€å¤©å¼•ãåˆ†ã¯ä¼šç¤¾ãŒä¸€æ™‚çš„ã«é ã‹ã‚‹ãŸã‚ã€Œé ã‚Šé‡‘ã€ã¨ã—ã¦å‡¦ç†ã€‚å¾Œæ—¥ã€é ã‚Šé‡‘ã‚’ç¨å‹™ç½²ç­‰ã«ç´ä»˜ã—ã¾ã™ã€‚"
      );
    }

    if (questionText.includes("å®¶è³ƒ") || questionText.includes("ä¿é™º")) {
      const isPrepaid =
        questionText.includes("å‰æ‰•") || questionText.includes("å…ˆæ‰•");
      const isAccrued =
        questionText.includes("æœªæ‰•") || questionText.includes("å¾Œæ‰•");

      return (
        `${isPrepaid ? "å‰æ‰•è²»ç”¨" : isAccrued ? "æœªæ‰•è²»ç”¨" : "çµŒéå‹˜å®š"}ã®å‡¦ç†ã§ã™ã€‚\n\n` +
        `ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n` +
        `${
          isPrepaid
            ? "â€¢ æ”¯æ‰•æ™‚ï¼šå…¨é¡ã‚’è²»ç”¨è¨ˆä¸Š\nâ€¢ æ±ºç®—æ™‚ï¼šç¿ŒæœŸåˆ†ã‚’ã€Œå‰æ‰•â—‹â—‹ã€ï¼ˆè³‡ç”£ï¼‰ã«æŒ¯æ›¿\nâ€¢ ç¿ŒæœŸé¦–ï¼šå†æŒ¯æ›¿ä»•è¨³ã§è²»ç”¨ã«æˆ»ã™"
            : isAccrued
              ? "â€¢ æ±ºç®—æ™‚ï¼šå½“æœŸåˆ†ã®æœªæ‰•é¡ã‚’ã€Œæœªæ‰•â—‹â—‹ã€ï¼ˆè² å‚µï¼‰ã¨ã—ã¦è¨ˆä¸Š\nâ€¢ åŒæ™‚ã«è©²å½“ã™ã‚‹è²»ç”¨ã‚’è¨ˆä¸Š\nâ€¢ ç¿ŒæœŸé¦–ï¼šå†æŒ¯æ›¿ä»•è¨³ã§å–ã‚Šæ¶ˆã™"
              : "â€¢ æœŸé–“ã«å¿œã˜ãŸè²»ç”¨é…åˆ†ãŒå¿…è¦\nâ€¢ å½“æœŸåˆ†ã®ã¿ã‚’è²»ç”¨ã¨ã—ã¦è¨ˆä¸Š"
        }\n\n` +
        `ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n` +
        `ç™ºç”Ÿä¸»ç¾©ã«ã‚ˆã‚Šã€æ”¯æ‰•æ™‚æœŸã«é–¢ä¿‚ãªãã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’å—ã‘ãŸæœŸé–“ã«å¿œã˜ã¦è²»ç”¨ã‚’è¨ˆä¸Šã—ã¾ã™ã€‚` +
        `${isPrepaid ? "å‰æ‰•åˆ†ã¯è³‡ç”£ã¨ã—ã¦ç¹°ã‚Šå»¶ã¹ã€" : isAccrued ? "æœªæ‰•åˆ†ã¯è² å‚µã¨ã—ã¦èªè­˜ã—ã€" : ""}é©æ­£ãªæœŸé–“æç›Šè¨ˆç®—ã‚’è¡Œã„ã¾ã™ã€‚`
      );
    }

    if (questionText.includes("æ¸›ä¾¡å„Ÿå´")) {
      return (
        "å›ºå®šè³‡ç”£ã®æ¸›ä¾¡å„Ÿå´ã®ä»•è¨³ã§ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ é–“æ¥æ³•ï¼šå€Ÿæ–¹ã€Œæ¸›ä¾¡å„Ÿå´è²»ã€ï¼è²¸æ–¹ã€Œæ¸›ä¾¡å„Ÿå´ç´¯è¨ˆé¡ã€\n" +
        "â€¢ ç›´æ¥æ³•ï¼šå€Ÿæ–¹ã€Œæ¸›ä¾¡å„Ÿå´è²»ã€ï¼è²¸æ–¹ã€Œå›ºå®šè³‡ç”£ã€\n" +
        "â€¢ å®šé¡æ³•ã®è¨ˆç®—ï¼šï¼ˆå–å¾—åŸä¾¡ï¼æ®‹å­˜ä¾¡é¡ï¼‰Ã·è€ç”¨å¹´æ•°\n" +
        "â€¢ æœˆå‰²è¨ˆç®—ãŒå¿…è¦ãªå ´åˆã¯12ã§å‰²ã£ã¦æœˆæ•°ã‚’æ›ã‘ã‚‹\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "æ¸›ä¾¡å„Ÿå´ã¯å›ºå®šè³‡ç”£ã®ä¾¡å€¤æ¸›å°‘ã‚’è²»ç”¨ã¨ã—ã¦èªè­˜ã™ã‚‹æ‰‹ç¶šãã€‚é–“æ¥æ³•ã§ã¯ã€Œæ¸›ä¾¡å„Ÿå´ç´¯è¨ˆé¡ã€ã¨ã„ã†è³‡ç”£ã®ãƒã‚¤ãƒŠã‚¹å‹˜å®šã‚’ä½¿ç”¨ã—ã€è²¸å€Ÿå¯¾ç…§è¡¨ã§ã¯å›ºå®šè³‡ç”£ã‹ã‚‰æ§é™¤ã—ã¦è¡¨ç¤ºã—ã¾ã™ã€‚"
      );
    }

    if (questionText.includes("è²¸å€’")) {
      const isProvision = questionText.includes("å¼•å½“é‡‘");
      const isLoss =
        questionText.includes("æå¤±") || questionText.includes("ç™ºç”Ÿ");

      return (
        `è²¸å€’ã‚Œã«é–¢ã™ã‚‹å‡¦ç†ã§ã™ã€‚\n\n` +
        `ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n` +
        `${
          isProvision
            ? "â€¢ è¨­å®šæ™‚ï¼šå€Ÿæ–¹ã€Œè²¸å€’å¼•å½“é‡‘ç¹°å…¥ã€ï¼ˆè²»ç”¨ï¼‰ï¼è²¸æ–¹ã€Œè²¸å€’å¼•å½“é‡‘ã€ï¼ˆè³‡ç”£ã®ãƒã‚¤ãƒŠã‚¹ï¼‰\n" +
              "â€¢ å·®é¡è£œå……æ³•ï¼šå¿…è¦é¡ã¨æ—¢å­˜æ®‹é«˜ã®å·®é¡ã®ã¿ç¹°å…¥ã¾ãŸã¯æˆ»å…¥\n" +
              "â€¢ æ´—æ›¿æ³•ï¼šä¸€æ—¦å…¨é¡æˆ»å…¥ã—ã¦ã‹ã‚‰æ–°ãŸã«è¨­å®š"
            : isLoss
              ? "â€¢ å½“æœŸã®å£²æ›é‡‘ç­‰ãŒè²¸å€’ï¼šå€Ÿæ–¹ã€Œè²¸å€’æå¤±ã€ï¼è²¸æ–¹ã€Œå£²æ›é‡‘ã€\n" +
                "â€¢ å‰æœŸä»¥å‰ã®å£²æ›é‡‘ç­‰ãŒè²¸å€’ï¼šã¾ãšå¼•å½“é‡‘ã‚’ä½¿ç”¨ã€ä¸è¶³åˆ†ã¯è²¸å€’æå¤±"
              : "â€¢ å¼•å½“é‡‘ã¯è¦‹ç©ã‚Šã€æå¤±ã¯å®Ÿéš›ã®è²¸å€’ã‚Œ"
        }\n\n` +
        `ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n` +
        `${
          isProvision
            ? "è²¸å€’å¼•å½“é‡‘ã¯å°†æ¥ã®è²¸å€’ã‚Œã«å‚™ãˆã‚‹è¦‹ç©ã‚Šã€‚å£²æ›é‡‘ç­‰ã®å›åãƒªã‚¹ã‚¯ã‚’äº‹å‰ã«è²»ç”¨è¨ˆä¸Šã™ã‚‹ã“ã¨ã§ã€å¥å…¨ãªä¼šè¨ˆå‡¦ç†ã‚’å®Ÿç¾ã—ã¾ã™ã€‚"
            : "å®Ÿéš›ã®è²¸å€’ã‚Œç™ºç”Ÿæ™‚ã¯ã€ã¾ãšå¼•å½“é‡‘ã‚’å–ã‚Šå´©ã—ã€ä¸è¶³ãŒã‚ã‚Œã°è²¸å€’æå¤±ã¨ã—ã¦è¿½åŠ è¨ˆä¸Šã—ã¾ã™ã€‚"
        }`
      );
    }

    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ä»•è¨³è§£èª¬
    return (
      "ã“ã®ä»•è¨³ã§ã¯ã€å€Ÿæ–¹ã¨è²¸æ–¹ã®é‡‘é¡ã‚’ä¸€è‡´ã•ã›ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚\n\n" +
      "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
      "â€¢ å‹˜å®šç§‘ç›®ã®è²¸å€Ÿã‚’é€†ã«ã—ãªã„ã‚ˆã†æ³¨æ„\n" +
      "â€¢ é‡‘é¡ã®è¨ˆç®—ãƒŸã‚¹ã«æ³¨æ„\n" +
      "â€¢ è¤‡åˆä»•è¨³ã®å ´åˆã¯ã€å€Ÿæ–¹åˆè¨ˆã¨è²¸æ–¹åˆè¨ˆã‚’å¿…ãšä¸€è‡´ã•ã›ã‚‹\n\n" +
      "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
      "å–å¼•ã®8è¦ç´ ï¼ˆè³‡ç”£ãƒ»è² å‚µãƒ»ç´”è³‡ç”£ãƒ»åç›Šãƒ»è²»ç”¨ã®å¢—æ¸›ï¼‰ã‚’ç†è§£ã—ã€å€Ÿæ–¹ãƒ»è²¸æ–¹ã®ãƒ«ãƒ¼ãƒ«ã‚’ç¢ºå®Ÿã«èº«ã«ã¤ã‘ã¾ã—ã‚‡ã†ã€‚"
    );
  }

  // ç¬¬äºŒå•ï¼ˆå¸³ç°¿å•é¡Œï¼‰ã®è§£èª¬
  if (id.startsWith("Q_L_")) {
    if (questionText.includes("ç·å‹˜å®šå…ƒå¸³") || questionText.includes("å…ƒå¸³")) {
      return (
        "ç·å‹˜å®šå…ƒå¸³ã¸ã®è»¢è¨˜å•é¡Œã§ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ ä»•è¨³å¸³ã‹ã‚‰å‹˜å®šç§‘ç›®ã”ã¨ã«è»¢è¨˜\n" +
        "â€¢ ç›¸æ‰‹å‹˜å®šç§‘ç›®ã‚’æ‘˜è¦æ¬„ã«è¨˜å…¥\n" +
        "â€¢ å€Ÿæ–¹ãƒ»è²¸æ–¹ã‚’é€†ã«ã—ãªã„ã‚ˆã†æ³¨æ„\n" +
        "â€¢ è«¸å£ãŒã‚ã‚‹å ´åˆã¯ã€Œè«¸å£ã€ã¨è¨˜å…¥\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "ç·å‹˜å®šå…ƒå¸³ã¯å‹˜å®šç§‘ç›®åˆ¥ã®å¢—æ¸›æ˜ç´°ã€‚Tå­—å‹˜å®šã®å·¦å´ï¼ˆå€Ÿæ–¹ï¼‰ã¨å³å´ï¼ˆè²¸æ–¹ï¼‰ã®ä½ç½®ã‚’é–“é•ãˆãªã„ã“ã¨ãŒé‡è¦ã§ã™ã€‚æ®‹é«˜ã¯å€Ÿæ–¹åˆè¨ˆã¨è²¸æ–¹åˆè¨ˆã®å·®é¡ã§è¨ˆç®—ã—ã¾ã™ã€‚"
      );
    }

    if (questionText.includes("ç¾é‡‘å‡ºç´å¸³")) {
      return (
        "ç¾é‡‘å‡ºç´å¸³ã®è¨˜å¸³å•é¡Œã§ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ åå…¥ã¯å€Ÿæ–¹ã€æ”¯å‡ºã¯è²¸æ–¹ã«è¨˜å…¥\n" +
        "â€¢ æ®‹é«˜ã¯åå…¥ï¼æ”¯å‡ºã§è¨ˆç®—ï¼ˆç´¯è¨ˆï¼‰\n" +
        "â€¢ ç›¸æ‰‹å‹˜å®šç§‘ç›®ã‚’æ­£ç¢ºã«è¨˜å…¥\n" +
        "â€¢ å°åˆ‡æ‰‹å—å–ã‚‚ç¾é‡‘ã¨ã—ã¦å‡¦ç†ï¼ˆä»–åº—æŒ¯å‡ºã®å ´åˆï¼‰\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "ç¾é‡‘å‡ºç´å¸³ã¯ç¾é‡‘ã®å…¥å‡ºé‡‘ã‚’æ™‚ç³»åˆ—ã§è¨˜éŒ²ã™ã‚‹è£œåŠ©ç°¿ã€‚æ®‹é«˜ãŒãƒã‚¤ãƒŠã‚¹ã«ãªã‚‹ã“ã¨ã¯ãªã„ã®ã§ã€è¨ˆç®—ãƒŸã‚¹ã®ãƒã‚§ãƒƒã‚¯ã«æ´»ç”¨ã§ãã¾ã™ã€‚"
      );
    }

    if (questionText.includes("ä»•å…¥å¸³") || questionText.includes("å£²ä¸Šå¸³")) {
      const isPurchase = questionText.includes("ä»•å…¥");
      return (
        `${isPurchase ? "ä»•å…¥å¸³" : "å£²ä¸Šå¸³"}ã®è¨˜å¸³å•é¡Œã§ã™ã€‚\n\n` +
        `ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n` +
        `â€¢ ${isPurchase ? "ä»•å…¥å…ˆ" : "å¾—æ„å…ˆ"}åˆ¥ã«è¨˜éŒ²\n` +
        `â€¢ è¿”å“ãƒ»å€¤å¼•ã¯èµ¤å­—ã¾ãŸã¯â–³ã§è¨˜å…¥\n` +
        `â€¢ è«¸æ›ï¼ˆé€æ–™ç­‰ï¼‰ã®å‡¦ç†ã«æ³¨æ„\n` +
        `â€¢ å†…è¨³æ¬„ã«ã¯å“åãƒ»æ•°é‡ãƒ»å˜ä¾¡ã‚’è¨˜å…¥\n\n` +
        `ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n` +
        `${isPurchase ? "ä»•å…¥å¸³ã¯å•†å“ã®ä»•å…¥å–å¼•" : "å£²ä¸Šå¸³ã¯å•†å“ã®å£²ä¸Šå–å¼•"}ã‚’è©³ç´°ã«è¨˜éŒ²ã™ã‚‹è£œåŠ©è¨˜å…¥å¸³ã€‚` +
        `${isPurchase ? "ä»•å…¥å…ˆ" : "å¾—æ„å…ˆ"}åˆ¥ã®å–å¼•ç®¡ç†ã‚„ã€å•†å“åˆ¥ã®${isPurchase ? "ä»•å…¥" : "å£²ä¸Š"}åˆ†æã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚`
      );
    }

    if (questionText.includes("å•†å“æœ‰é«˜å¸³")) {
      return (
        "å•†å“æœ‰é«˜å¸³ã®è¨˜å¸³å•é¡Œã§ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ å…ˆå…¥å…ˆå‡ºæ³•ï¼šå¤ã„å•†å“ã‹ã‚‰å…ˆã«æ‰•å‡º\n" +
        "â€¢ ç§»å‹•å¹³å‡æ³•ï¼šä»•å…¥ã®éƒ½åº¦ã€å¹³å‡å˜ä¾¡ã‚’å†è¨ˆç®—\n" +
        "â€¢ æ•°é‡ãƒ»å˜ä¾¡ãƒ»é‡‘é¡ã‚’æ­£ç¢ºã«è¨˜å…¥\n" +
        "â€¢ æ®‹é«˜ã®æ•°é‡ã¨é‡‘é¡ã‚’å¸¸ã«è¨ˆç®—\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "å•†å“æœ‰é«˜å¸³ã¯å•†å“ã®å—å…¥ãƒ»æ‰•å‡ºãƒ»æ®‹é«˜ã‚’ç®¡ç†ã™ã‚‹è£œåŠ©å…ƒå¸³ã€‚è©•ä¾¡æ–¹æ³•ã«ã‚ˆã‚Šæ‰•å‡ºå˜ä¾¡ãŒå¤‰ã‚ã‚‹ãŸã‚ã€æŒ‡ç¤ºã•ã‚ŒãŸæ–¹æ³•ï¼ˆå…ˆå…¥å…ˆå‡ºæ³•ãƒ»ç§»å‹•å¹³å‡æ³•ï¼‰ã‚’ç¢ºå®Ÿã«é©ç”¨ã—ã¾ã—ã‚‡ã†ã€‚"
      );
    }

    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å¸³ç°¿è§£èª¬
    return (
      "å¸³ç°¿ã¸ã®è»¢è¨˜ãƒ»è¨˜å…¥å•é¡Œã§ã™ã€‚\n\n" +
      "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
      "â€¢ è»¢è¨˜å…ƒã¨è»¢è¨˜å…ˆã®é–¢ä¿‚ã‚’ç†è§£\n" +
      "â€¢ æ—¥ä»˜ãƒ»æ‘˜è¦ãƒ»é‡‘é¡ã‚’æ­£ç¢ºã«è»¢è¨˜\n" +
      "â€¢ å€Ÿæ–¹ãƒ»è²¸æ–¹ã®ä½ç½®ã«æ³¨æ„\n" +
      "â€¢ è£œåŠ©ç°¿ã¯ä¸»è¦ç°¿ã®å†…å®¹ã‚’è©³ç´°åŒ–ã—ãŸã‚‚ã®\n\n" +
      "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
      "ä¸»è¦ç°¿ï¼ˆä»•è¨³å¸³ãƒ»ç·å‹˜å®šå…ƒå¸³ï¼‰ã¨è£œåŠ©ç°¿ï¼ˆè£œåŠ©è¨˜å…¥å¸³ãƒ»è£œåŠ©å…ƒå¸³ï¼‰ã®å½¹å‰²ã‚’ç†è§£ã—ã€ãã‚Œãã‚Œã®è¨˜å¸³ç›®çš„ã«å¿œã˜ãŸå‡¦ç†ã‚’è¡Œã„ã¾ã™ã€‚"
    );
  }

  // ç¬¬ä¸‰å•ï¼ˆè¡¨ä½œæˆå•é¡Œï¼‰ã®è§£èª¬
  if (id.startsWith("Q_T_")) {
    if (questionText.includes("è©¦ç®—è¡¨")) {
      const isTotal = questionText.includes("åˆè¨ˆ");
      const isBalance = questionText.includes("æ®‹é«˜");

      return (
        `${isTotal ? "åˆè¨ˆ" : isBalance ? "æ®‹é«˜" : ""}è©¦ç®—è¡¨ã®ä½œæˆå•é¡Œã§ã™ã€‚\n\n` +
        `ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n` +
        `â€¢ ${isTotal ? "å€Ÿæ–¹åˆè¨ˆã¨è²¸æ–¹åˆè¨ˆã‚’ãã‚Œãã‚Œé›†è¨ˆ" : isBalance ? "å€Ÿæ–¹ã¨è²¸æ–¹ã®å·®é¡ï¼ˆæ®‹é«˜ï¼‰ã‚’è¨ˆç®—" : "åˆè¨ˆæ®‹é«˜è©¦ç®—è¡¨ã¯ä¸¡æ–¹ã‚’è¨˜è¼‰"}\n` +
        `â€¢ æ±ºç®—æ•´ç†å‰ã®é‡‘é¡ã‚’ä½¿ç”¨\n` +
        `â€¢ å€Ÿæ–¹åˆè¨ˆï¼è²¸æ–¹åˆè¨ˆï¼ˆè²¸å€Ÿä¸€è‡´ã®åŸå‰‡ï¼‰\n` +
        `â€¢ å‹˜å®šç§‘ç›®ã®åˆ†é¡ï¼ˆè³‡ç”£ãƒ»è² å‚µãƒ»ç´”è³‡ç”£ãƒ»åç›Šãƒ»è²»ç”¨ï¼‰ã‚’æ­£ç¢ºã«\n\n` +
        `ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n` +
        `è©¦ç®—è¡¨ã¯ä»•è¨³ã®æ­£ç¢ºæ€§ã‚’æ¤œè¨¼ã™ã‚‹è¡¨ã€‚` +
        `${isTotal ? "åˆè¨ˆè©¦ç®—è¡¨ã¯å–å¼•ã®è¦æ¨¡ã‚’æŠŠæ¡ã§ãã€" : isBalance ? "æ®‹é«˜è©¦ç®—è¡¨ã¯è²¡æ”¿çŠ¶æ…‹ã‚’æŠŠæ¡ã§ãã€" : ""}` +
        `è²¸å€Ÿã®ä¸€è‡´ã«ã‚ˆã‚Šè¨˜å¸³ã®æ­£ç¢ºæ€§ã‚’ç¢ºèªã§ãã¾ã™ã€‚`
      );
    }

    if (questionText.includes("ç²¾ç®—è¡¨")) {
      return (
        "ç²¾ç®—è¡¨ã®ä½œæˆå•é¡Œã§ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ æ±ºç®—æ•´ç†å‰æ®‹é«˜è©¦ç®—è¡¨ã‹ã‚‰é–‹å§‹\n" +
        "â€¢ æ±ºç®—æ•´ç†ä»•è¨³ã‚’ä¿®æ­£è¨˜å…¥æ¬„ã«è¨˜å…¥\n" +
        "â€¢ ä¿®æ­£å¾Œã®é‡‘é¡ã‚’æç›Šè¨ˆç®—æ›¸æ¬„ã¨è²¸å€Ÿå¯¾ç…§è¡¨æ¬„ã«æŒ¯ã‚Šåˆ†ã‘\n" +
        "â€¢ å½“æœŸç´”åˆ©ç›Šï¼ˆæå¤±ï¼‰ã§è²¸å€Ÿã‚’ä¸€è‡´ã•ã›ã‚‹\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "ç²¾ç®—è¡¨ã¯ã€Œæ±ºç®—æ•´ç†å‰â†’æ±ºç®—æ•´ç†â†’æ±ºç®—æ›¸ä½œæˆã€ã®æµã‚Œã‚’1æšã®è¡¨ã«ã¾ã¨ã‚ãŸã‚‚ã®ã€‚å„æ¬„ã®è²¸å€Ÿã¯å¿…ãšä¸€è‡´ã—ã€æœ€çµ‚çš„ã«å½“æœŸç´”åˆ©ç›Šã§å…¨ä½“ã®ãƒãƒ©ãƒ³ã‚¹ã‚’å–ã‚Šã¾ã™ã€‚é †ç•ªã«å‡¦ç†ã™ã‚Œã°å¿…ãšå®Œæˆã—ã¾ã™ã€‚"
      );
    }

    if (questionText.includes("æç›Šè¨ˆç®—æ›¸")) {
      return (
        "æç›Šè¨ˆç®—æ›¸ã®ä½œæˆå•é¡Œã§ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ åç›Šã¯è²¸æ–¹ã€è²»ç”¨ã¯å€Ÿæ–¹ã«è¨˜è¼‰\n" +
        "â€¢ å£²ä¸Šç·åˆ©ç›Šï¼å£²ä¸Šé«˜ï¼å£²ä¸ŠåŸä¾¡\n" +
        "â€¢ å–¶æ¥­åˆ©ç›Šï¼å£²ä¸Šç·åˆ©ç›Šï¼è²©å£²è²»åŠã³ä¸€èˆ¬ç®¡ç†è²»\n" +
        "â€¢ å½“æœŸç´”åˆ©ç›Šï¼å–¶æ¥­åˆ©ç›Šï¼‹å–¶æ¥­å¤–åç›Šï¼å–¶æ¥­å¤–è²»ç”¨\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "æç›Šè¨ˆç®—æ›¸ã¯ä¸€å®šæœŸé–“ã®çµŒå–¶æˆç¸¾ã‚’è¡¨ã™è²¡å‹™è«¸è¡¨ã€‚æ®µéšçš„ã«åˆ©ç›Šã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ã§ã€ã©ã®æ®µéšã§åˆ©ç›ŠãŒå‡ºã¦ã„ã‚‹ã‹ï¼ˆã¾ãŸã¯æå¤±ãŒå‡ºã¦ã„ã‚‹ã‹ï¼‰ã‚’åˆ†æã§ãã¾ã™ã€‚"
      );
    }

    if (questionText.includes("è²¸å€Ÿå¯¾ç…§è¡¨")) {
      return (
        "è²¸å€Ÿå¯¾ç…§è¡¨ã®ä½œæˆå•é¡Œã§ã™ã€‚\n\n" +
        "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
        "â€¢ è³‡ç”£ã¯å€Ÿæ–¹ï¼ˆå·¦å´ï¼‰ã€è² å‚µãƒ»ç´”è³‡ç”£ã¯è²¸æ–¹ï¼ˆå³å´ï¼‰\n" +
        "â€¢ æµå‹•ãƒ»å›ºå®šã®åˆ†é¡åŸºæº–ï¼ˆ1å¹´åŸºæº–ï¼‰ã‚’é©ç”¨\n" +
        "â€¢ æ¸›ä¾¡å„Ÿå´ç´¯è¨ˆé¡ã¯è³‡ç”£ã‹ã‚‰æ§é™¤ï¼ˆâ–³è¡¨ç¤ºï¼‰\n" +
        "â€¢ è²¸å€’å¼•å½“é‡‘ã‚‚è³‡ç”£ã‹ã‚‰æ§é™¤\n" +
        "â€¢ è³‡ç”£åˆè¨ˆï¼è² å‚µåˆè¨ˆï¼‹ç´”è³‡ç”£åˆè¨ˆï¼ˆè²¸å€Ÿä¸€è‡´ï¼‰\n\n" +
        "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
        "è²¸å€Ÿå¯¾ç…§è¡¨ã¯ç‰¹å®šæ™‚ç‚¹ã®è²¡æ”¿çŠ¶æ…‹ã‚’è¡¨ã™è²¡å‹™è«¸è¡¨ã€‚å·¦å´ï¼ˆè³‡ç”£ï¼‰ã¯è³‡é‡‘ã®é‹ç”¨å½¢æ…‹ã€å³å´ï¼ˆè² å‚µãƒ»ç´”è³‡ç”£ï¼‰ã¯è³‡é‡‘ã®èª¿é”æºæ³‰ã‚’ç¤ºã—ã¾ã™ã€‚å¿…ãšè²¸å€ŸãŒä¸€è‡´ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚"
      );
    }

    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®è¡¨ä½œæˆè§£èª¬
    return (
      "è¡¨ä½œæˆå•é¡Œã§ã™ã€‚\n\n" +
      "ğŸ’¡ é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆï¼š\n" +
      "â€¢ å„å‹˜å®šç§‘ç›®ã®è²¸å€Ÿã®ä½ç½®ã‚’æ­£ç¢ºã«\n" +
      "â€¢ é›†è¨ˆãƒ»è»¢è¨˜ãƒŸã‚¹ã«æ³¨æ„\n" +
      "â€¢ è²¸å€Ÿä¸€è‡´ã®åŸå‰‡ã‚’ç¢ºèª\n" +
      "â€¢ æ±ºç®—æ•´ç†ã®å‡¦ç†ã‚’ç¢ºå®Ÿã«åæ˜ \n\n" +
      "ğŸ¯ ç†è§£ã®ã‚³ãƒ„ï¼š\n" +
      "è¡¨ä½œæˆå•é¡Œã¯éƒ¨åˆ†ç‚¹ãŒå–ã‚Šã‚„ã™ã„å•é¡Œã§ã™ã€‚å®Œç’§ã‚’ç›®æŒ‡ã•ãšã€ã‚ã‹ã‚‹éƒ¨åˆ†ã‹ã‚‰ç¢ºå®Ÿã«åŸ‹ã‚ã¦ã„ãã€æœ€å¾Œã«è²¸å€Ÿã®ä¸€è‡´ã‚’ç¢ºèªã—ã¾ã—ã‚‡ã†ã€‚"
    );
  }

  // ãã®ä»–ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè§£èª¬
  return question.explanation;
}

// å„å•é¡Œã®è§£èª¬ã‚’æ›´æ–°
let updatedCount = 0;
questions.forEach((question) => {
  const improvedExplanation = generateImprovedExplanation(question);
  if (improvedExplanation !== question.explanation) {
    question.explanation = improvedExplanation;
    updatedCount++;
  }
});

// TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†æ§‹ç¯‰
const beforeData = content.substring(0, startIndex);
const afterData = content.substring(endIndex);

// questionsã‚’TypeScriptå½¢å¼ã®æ–‡å­—åˆ—ã«å¤‰æ›
const questionsString = JSON.stringify(questions, null, 2)
  .replace(/\\n/g, "\\n")
  .replace(/"/g, '\\"')
  .replace(/\\\\\\"/g, '\\\\\\"');

// å…ƒã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã«æˆ»ã™
const formattedQuestions = questions
  .map((q) => {
    // explanationãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—å‡¦ç†
    const escapedExplanation = q.explanation
      .replace(/\\/g, "\\\\")
      .replace(/"/g, '\\"')
      .replace(/\n/g, "\\n");

    return `  {
    id: "${q.id}",
    category_id: "${q.category_id}",
    difficulty: ${q.difficulty},
    question_text: "${q.question_text.replace(/"/g, '\\"').replace(/\n/g, "\\n")}",
    answer_template_json: "${q.answer_template_json.replace(/"/g, '\\"')}",
    correct_answer_json: "${q.correct_answer_json.replace(/"/g, '\\"')}",
    explanation: "${escapedExplanation}",
    tags_json: "${q.tags_json.replace(/"/g, '\\"')}",
    created_at: "${q.created_at}",
    updated_at: "${q.updated_at}"
  }`;
  })
  .join(",\n");

const newContent = beforeData + "[\n" + formattedQuestions + "\n]" + afterData;
fs.writeFileSync(tsFilePath, newContent, "utf8");

console.log(`âœ… ${updatedCount}å€‹ã®å•é¡Œã®è§£èª¬ã‚’æ”¹å–„ã—ã¾ã—ãŸï¼\n`);

// ã‚µãƒ³ãƒ—ãƒ«å‡ºåŠ›
console.log("ğŸ“ æ”¹å–„ä¾‹ï¼ˆæœ€åˆã®5å•ï¼‰:\n");
questions.slice(0, 5).forEach((q) => {
  console.log(`ã€${q.id}ã€‘`);
  console.log(q.explanation.substring(0, 200) + "...\n");
});

console.log("âœ¨ è§£èª¬ã®æ”¹å–„ãŒå®Œäº†ã—ã¾ã—ãŸï¼");
console.log("  - é–“é•ãˆã‚„ã™ã„ãƒã‚¤ãƒ³ãƒˆã‚’æ˜è¨˜");
console.log("  - æ··åŒã—ã‚„ã™ã„å‹˜å®šç§‘ç›®ã‚’èª¬æ˜");
console.log("  - ç†è§£ã®ãŸã‚ã®ã‚³ãƒ„ã‚’è¿½åŠ ");
console.log("  - å•é¡Œã‚¿ã‚¤ãƒ—ã”ã¨ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º");
